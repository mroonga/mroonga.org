
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>9.2. Release procedure &#8212; Mroonga v14.10 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/documentation_options.js?v=1834d29a"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-7532323-1"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'UA-7532323-1');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'UA-7532323-1');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'developer/release';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.0';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://mroonga.org/docs/_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'english';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="9.3. コーディングスタイル" href="coding_style.html" />
    <link rel="prev" title="9.1. How to debug" href="debug.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="14.10" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
     
  

<a class="navbar-brand logo" href="https://mroonga.org/">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/mroonga.png" class="logo__image only-light" alt="Mroonga v14.10 documentation - Home"/>
    <img src="../_static/mroonga.png" class="logo__image only-dark pst-js-only" alt="Mroonga v14.10 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/mroonga/mroonga" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/groonga" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="/blog" title="Blog" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-blog fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Blog</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/mroonga/mroonga" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/groonga" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="/blog" title="Blog" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-blog fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Blog</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="debug.html">9.1. How to debug</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">9.2. Release procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_style.html">9.3. コーディングスタイル</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../developer.html" class="nav-link"><span class="section-number">9. </span>Developer’s guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis"><span class="section-number">9.2. </span>Release procedure</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="release-procedure">
<h1><span class="section-number">9.2. </span>Release procedure<a class="headerlink" href="#release-procedure" title="Link to this heading">#</a></h1>
<section id="requirements">
<h2><span class="section-number">9.2.1. </span>Requirements<a class="headerlink" href="#requirements" title="Link to this heading">#</a></h2>
<p>Here is the requirements about release procedure.</p>
<ul class="simple">
<li><p>Debian GNU/Linux (sid)</p></li>
<li><p>Use zsh as user shell</p></li>
</ul>
<p>Use the following working directories.</p>
<ul class="simple">
<li><p>MROONGA_SOURCE_DIR=$HOME/work/mroonga</p></li>
<li><p>MROONGA_BUILD_DIR=$HOME/work/build-dir/mroonga</p></li>
<li><p>MROONGA_ORG_DIR=$HOME/work/mroonga.org</p></li>
<li><p>MARIADB_SOURCE_DIR=$HOME/work/mariadb</p></li>
<li><p>MARIADB_BUILD_DIR=$HOME/work/build-dir/mariadb</p></li>
<li><p>GROONGA_SOURCE_DIR=$HOME/work/groonga</p></li>
<li><p>GROONGA_BUILD_DIR=$HOME/work/build-dir/groonga</p></li>
<li><p>INSTALL_DIR=/tmp/local</p></li>
</ul>
</section>
<section id="setup-build-environment">
<h2><span class="section-number">9.2.2. </span>Setup build environment<a class="headerlink" href="#setup-build-environment" title="Link to this heading">#</a></h2>
<p>Install the following packages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">V</span> <span class="n">ruby</span> <span class="n">mecab</span> <span class="n">libmecab</span><span class="o">-</span><span class="n">dev</span> <span class="n">gnupg2</span> <span class="n">dh</span><span class="o">-</span><span class="n">autoreconf</span> <span class="n">python</span><span class="o">-</span><span class="n">sphinx</span> <span class="n">bison</span>
<span class="o">%</span> <span class="n">pip3</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">sphinx</span> <span class="n">myst</span><span class="o">-</span><span class="n">parser</span> <span class="n">linkify</span><span class="o">-</span><span class="n">it</span><span class="o">-</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section id="describe-the-changes">
<h2><span class="section-number">9.2.3. </span>Describe the changes<a class="headerlink" href="#describe-the-changes" title="Link to this heading">#</a></h2>
<p>Summarize recent changes since the previous release into <code class="docutils literal notranslate"><span class="pre">doc/source/news/xx.md</span></code>.</p>
<p>Should be included</p>
<ul class="simple">
<li><p>The changes which affect to users</p></li>
<li><p>The changes which broke compatibility</p></li>
</ul>
<p>Shoud not be included</p>
<ul class="simple">
<li><p>The changes which doesn’t affect to users (Internal source code changes or refactoring)</p></li>
</ul>
<p>Execute the following command to create HTML for news:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>% cmake -S ${MARIADB_SOURCE_DIR} -B ${MARIADB_BUILD_DIR} -GNinja -DCMAKE_INSTALL_PREFIX=${INSTALL_DIR} -DPLUGIN_CASSANDRA=NO
% cmake --build ${MARIADB_BUILD_DIR}
% cmake --install ${MARIADB_BUILD_DIR}
% cmake -S ${GROONGA_SOURCE_DIRECTORY} -B ${GROONGA_BUILD_DIR} --preset=release-default --fresh -DCMAKE_INSTALL_PREFIX=&quot;${INSTALL_DIR}&quot;
% cmake --build ${GROONGA_BUILD_DIR}
% cmake --install ${GROONGA_BUILD_DIR}
% PKG_CONFIG_PATH=${INSTALL_DIR}/lib/pkgconfig cmake -S ${MROONGA_SOURCE_DIRECTORY} -B ${MROONGA_BUILD_DIR} --fresh --preset=doc -DCMAKE_INSTALL_PREFIX=&quot;${INSTALL_DIR}&quot; -DMYSQL_SOURCE_DIR=~${MARIADB_SOURCE_DIR} -DMYSQL_BUILD_DIR=${MARIADB_BUILD_DIR} -DMYSQL_CONFIG=${INSTALL_DIR}/bin/mariadb_config
% cmake --build ${MROONGA_BUILD_DIR}
</pre></div>
</div>
</section>
<section id="check-whether-you-can-upload-packages">
<h2><span class="section-number">9.2.4. </span>Check whether you can upload packages<a class="headerlink" href="#check-whether-you-can-upload-packages" title="Link to this heading">#</a></h2>
<p>Check whether you can login to packages.groonga.org as packages user.</p>
<p>You can check with the following command whether you can login:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">ssh</span> <span class="n">packages</span><span class="nd">@packages</span><span class="o">.</span><span class="n">groonga</span><span class="o">.</span><span class="n">org</span>
</pre></div>
</div>
<p>If you can’t login to packages.groonga.org, you must be registered ssh public key.</p>
</section>
<section id="execute-make-update-latest-release">
<h2><span class="section-number">9.2.5. </span>Execute make update-latest-release<a class="headerlink" href="#execute-make-update-latest-release" title="Link to this heading">#</a></h2>
<p>Execute <code class="docutils literal notranslate"><span class="pre">rake</span> <span class="pre">release:version:update</span></code> command with OLD_RELEASE_DATE, NEW_RELEASE_DATE.</p>
<p>When 14.07 release, we executed the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">rake</span> <span class="n">release</span><span class="p">:</span><span class="n">version</span><span class="p">:</span><span class="n">update</span> <span class="n">OLD_RELEASE</span><span class="o">=</span><span class="mf">14.04</span> <span class="n">OLD_RELEASE_DATE</span><span class="o">=</span><span class="mi">2024</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span> <span class="n">NEW_RELEASE_DATE</span><span class="o">=</span><span class="mi">2024</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">06</span>
</pre></div>
</div>
<p>This command updates the version of spec file or debian/changelog entry.</p>
</section>
<section id="confirm-the-results-of-each-test">
<h2><span class="section-number">9.2.6. </span>Confirm the results of each test<a class="headerlink" href="#confirm-the-results-of-each-test" title="Link to this heading">#</a></h2>
<p>We confirm the results of all the below tests and build before setting the tag to Mroonga.
Because if we will find problems in Mroonga after setting the tag to it, we must release it again.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/mroonga/mroonga/actions">GitHub Actions</a></p></li>
<li><p><a class="reference external" href="https://launchpad.net/~groonga/+archive/ubuntu/nightly/+packages">Launchpad</a></p></li>
</ul>
<p>How to build packages for Ubuntu on Nightly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Download</span> <span class="n">source</span> <span class="n">archive</span> <span class="kn">from</span> <span class="nn">GitHub</span> <span class="n">actions</span><span class="o">.</span>
<span class="o">%</span> <span class="n">mv</span> <span class="n">mroonga</span><span class="o">-</span><span class="mf">14.07</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span> <span class="n">mroonga</span><span class="o">/</span>
<span class="o">%</span> <span class="n">cd</span> <span class="n">mroonga</span><span class="o">/</span><span class="n">packages</span>
<span class="o">%</span> <span class="n">rake</span> <span class="n">ubuntu</span> <span class="n">DPUT_CONFIGURATION_NAME</span><span class="o">=</span><span class="n">groonga</span><span class="o">-</span><span class="n">ppa</span><span class="o">-</span><span class="n">nightly</span> <span class="n">DPUT_INCOMING</span><span class="o">=</span><span class="s2">&quot;~groonga/ubuntu/nightly&quot;</span> <span class="n">LAUNCHPAD_UPLOADER_PGP_KEY</span><span class="o">=</span><span class="n">xxxxxxx</span>
</pre></div>
</div>
</section>
<section id="tagging-for-release">
<h2><span class="section-number">9.2.7. </span>Tagging for release<a class="headerlink" href="#tagging-for-release" title="Link to this heading">#</a></h2>
<p>Execute the following command for tagging:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">rake</span> <span class="n">release</span><span class="p">:</span><span class="n">tag</span>
</pre></div>
</div>
</section>
<section id="upload-archive-files">
<h2><span class="section-number">9.2.8. </span>Upload archive files<a class="headerlink" href="#upload-archive-files" title="Link to this heading">#</a></h2>
<p>Execute the following command for uploading source archive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">cd</span> <span class="n">packages</span><span class="o">/</span><span class="n">source</span>
<span class="o">%</span> <span class="n">rake</span> <span class="n">source</span>
</pre></div>
</div>
<p>As a result, <code class="docutils literal notranslate"><span class="pre">tar.gz</span></code> archive file is available from <a class="reference external" href="https://packages.groonga.org/source/mroonga/">https://packages.groonga.org/source/mroonga/</a>.</p>
</section>
<section id="create-packages-for-the-release">
<h2><span class="section-number">9.2.9. </span>Create packages for the release<a class="headerlink" href="#create-packages-for-the-release" title="Link to this heading">#</a></h2>
<p>Create Linux and Windows packages.</p>
<section id="debian">
<h3><span class="section-number">9.2.9.1. </span>Debian<a class="headerlink" href="#debian" title="Link to this heading">#</a></h3>
<p>Change working directory to <code class="docutils literal notranslate"><span class="pre">packages</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">cd</span> <span class="n">packages</span>
</pre></div>
</div>
<p>Execute the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">rake</span> <span class="n">apt</span>
</pre></div>
</div>
<p>Now we finish build and upload packages to <a class="reference external" href="https://packages.groonga.org/">https://packages.groonga.org/</a>.
However, these packages are unsigned. We sign packages by executing the below commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>% cd $PACKAGES_GROONGA_ORG_REPOSITORY
% rake apt
</pre></div>
</div>
</section>
<section id="debian-derivatives-ubuntu">
<h3><span class="section-number">9.2.9.2. </span>Debian derivatives(Ubuntu)<a class="headerlink" href="#debian-derivatives-ubuntu" title="Link to this heading">#</a></h3>
<p>For Ubuntu, packages are provided by PPA on launchpad.net.</p>
<p>Change working directory to <code class="docutils literal notranslate"><span class="pre">packages</span></code> and execute <code class="docutils literal notranslate"><span class="pre">rake</span> <span class="pre">ubuntu:upload</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">cd</span> <span class="n">packages</span>
<span class="o">%</span> <span class="n">rake</span> <span class="n">ubuntu</span>
</pre></div>
</div>
<p>When upload packages was succeeded, package build process is executed on launchpad.net. Then build result is notified via E-mail.
You can install packages via Groonga PPA on launchpad.net:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">launchpad</span><span class="o">.</span><span class="n">net</span><span class="o">/~</span><span class="n">groonga</span><span class="o">/+</span><span class="n">archive</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">/</span><span class="n">ppa</span>
</pre></div>
</div>
</section>
<section id="red-hat-derivatives">
<h3><span class="section-number">9.2.9.3. </span>Red Hat derivatives<a class="headerlink" href="#red-hat-derivatives" title="Link to this heading">#</a></h3>
<p>Change working directory to <code class="docutils literal notranslate"><span class="pre">packages</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">cd</span> <span class="n">packages</span>
</pre></div>
</div>
<p>Execute the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">rake</span> <span class="n">yum</span>
</pre></div>
</div>
<p>Now we finish build and upload packages to <a class="reference external" href="https://packages.groonga.org/">https://packages.groonga.org/</a>.
However, these packages are unsigned. We sign packages by executing the below commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>% cd $PACKAGES_GROONGA_ORG_REPOSITORY
% rake yum
</pre></div>
</div>
</section>
<section id="windows">
<h3><span class="section-number">9.2.9.4. </span>Windows<a class="headerlink" href="#windows" title="Link to this heading">#</a></h3>
<p>For windows packages, we use artifacts of <a class="reference external" href="https://github.com/mroonga/mroonga/releases">GitHub release page</a> .</p>
</section>
</section>
<section id="update-docker-images">
<h2><span class="section-number">9.2.10. </span>Update Docker images<a class="headerlink" href="#update-docker-images" title="Link to this heading">#</a></h2>
<p>TODO</p>
</section>
<section id="upload-documents">
<h2><span class="section-number">9.2.11. </span>Upload documents<a class="headerlink" href="#upload-documents" title="Link to this heading">#</a></h2>
<p>Execute the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>% rake release:document:update BUILD_DIR=${MROONGA_BUILD_DIR} MROONGA_ORG_DIR=${MROONGA_ORG_DIR}
</pre></div>
</div>
<p>Commit changes in mroonga.org repository &amp;&amp; push them.</p>
</section>
<section id="update-blog-mroonga-blog">
<h2><span class="section-number">9.2.12. </span>Update blog(Mroonga blog)<a class="headerlink" href="#update-blog-mroonga-blog" title="Link to this heading">#</a></h2>
<p>We update the below files.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$MROONGA_GITHUB_COM_PATH/ja/_posts/(the</span> <span class="pre">date</span> <span class="pre">of</span> <span class="pre">release)-mroonga-(version).md</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$MROONGA_GITHUB_COM_PATH/en/_posts/(the</span> <span class="pre">date</span> <span class="pre">of</span> <span class="pre">release)-mroonga-(version).md</span></code></p></li>
</ul>
<p>We can confirm contents of blog on Web browser by using Jekyll.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">jekyll</span> <span class="n">serve</span>
</pre></div>
</div>
<p>We access <a class="reference external" href="http://localhost:4000">http://localhost:4000</a> on our web browser for confirming contents.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If we want private to blog contents, we set <code class="docutils literal notranslate"><span class="pre">false</span></code> on <code class="docutils literal notranslate"><span class="pre">published:</span></code> in <code class="docutils literal notranslate"><span class="pre">.md</span></code> file.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>---
layout: post.en
title: Mroonga 10.01 has been released!
description: Mroonga 10.01 has been released!
published: false
---
</pre></div>
</div>
</div>
</section>
<section id="announce-release-for-mailing-list">
<h2><span class="section-number">9.2.13. </span>Announce release for mailing list<a class="headerlink" href="#announce-release-for-mailing-list" title="Link to this heading">#</a></h2>
<p>Send release announce for each mailing list</p>
<ul class="simple">
<li><p><a class="reference external" href="mailto:ml&#37;&#52;&#48;mysql&#46;gr&#46;jp">ml<span>&#64;</span>mysql<span>&#46;</span>gr<span>&#46;</span>jp</a> for Japanese</p></li>
<li><p><a class="reference external" href="mailto:groonga-dev&#37;&#52;&#48;lists&#46;osdn&#46;me">groonga-dev<span>&#64;</span>lists<span>&#46;</span>osdn<span>&#46;</span>me</a> for Japanese</p></li>
<li><p><a class="reference external" href="mailto:groonga-talk&#37;&#52;&#48;lists&#46;sourceforge&#46;net">groonga-talk<span>&#64;</span>lists<span>&#46;</span>sourceforge<span>&#46;</span>net</a> for English</p></li>
</ul>
</section>
<section id="announce-release-for-twitter">
<h2><span class="section-number">9.2.14. </span>Announce release for twitter<a class="headerlink" href="#announce-release-for-twitter" title="Link to this heading">#</a></h2>
<p>Click Tweet link in Mrooga blog entry. You can share tweet about latest release.
If you use tweet link, title of release announce and URL is embedded into your tweet.</p>
<p>Execute sharing tweet in Japanese and English version of blog entry.
Note that this tweet should be done when logged in by <code class="docutils literal notranslate"><span class="pre">groonga</span></code> account.</p>
</section>
<section id="announce-release-for-facebook">
<h2><span class="section-number">9.2.15. </span>Announce release for Facebook<a class="headerlink" href="#announce-release-for-facebook" title="Link to this heading">#</a></h2>
<p>We announce release from Mroonga group in Facebook.</p>
<p><a class="reference external" href="https://www.facebook.com/mroonga/">https://www.facebook.com/mroonga/</a></p>
</section>
<section id="bump-version">
<h2><span class="section-number">9.2.16. </span>Bump version<a class="headerlink" href="#bump-version" title="Link to this heading">#</a></h2>
<p>Bump version to the latest release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">rake</span> <span class="n">dev</span><span class="p">:</span><span class="n">version</span><span class="p">:</span><span class="n">bump</span> <span class="n">NEW_VERSION</span><span class="o">=</span><span class="n">xx</span><span class="o">.</span><span class="n">xx</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="debug.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">9.1. </span>How to debug</p>
      </div>
    </a>
    <a class="right-next"
       href="coding_style.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">9.3. </span>コーディングスタイル</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#requirements">9.2.1. Requirements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-build-environment">9.2.2. Setup build environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#describe-the-changes">9.2.3. Describe the changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#check-whether-you-can-upload-packages">9.2.4. Check whether you can upload packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#execute-make-update-latest-release">9.2.5. Execute make update-latest-release</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#confirm-the-results-of-each-test">9.2.6. Confirm the results of each test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tagging-for-release">9.2.7. Tagging for release</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#upload-archive-files">9.2.8. Upload archive files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-packages-for-the-release">9.2.9. Create packages for the release</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#debian">9.2.9.1. Debian</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#debian-derivatives-ubuntu">9.2.9.2. Debian derivatives(Ubuntu)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#red-hat-derivatives">9.2.9.3. Red Hat derivatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#windows">9.2.9.4. Windows</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#update-docker-images">9.2.10. Update Docker images</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#upload-documents">9.2.11. Upload documents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#update-blog-mroonga-blog">9.2.12. Update blog(Mroonga blog)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#announce-release-for-mailing-list">9.2.13. Announce release for mailing list</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#announce-release-for-twitter">9.2.14. Announce release for twitter</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#announce-release-for-facebook">9.2.15. Announce release for Facebook</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bump-version">9.2.16. Bump version</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/mroonga/mroonga/edit/main/doc/source/developer/release.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2009-2024, Mroonga Project.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>